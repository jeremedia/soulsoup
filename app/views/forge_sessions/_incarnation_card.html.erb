<div id="incarnation_<%= incarnation.id %>" class="incarnation-card <%= status %>">
  <div class="incarnation-header">
    <div class="soul-name">
      <%= link_to soul_dashboard_path(incarnation.soul.id) do %>
        <%= incarnation.soul.display_name_with_title %>
      <% end %>
    </div>
    <div class="incarnation-meta">
      <span class="incarnation-id"><%= incarnation.incarnation_id %></span>
    </div>
  </div>
  
  <div class="incarnation-stats">
    <div class="stat">
      <span class="label">Duration:</span>
      <span class="value">
        <% if incarnation.ended_at %>
          <%= time_ago_in_words(incarnation.ended_at, incarnation.started_at) %>
        <% else %>
          <%= time_ago_in_words(incarnation.started_at) %>
        <% end %>
      </span>
    </div>
    
    <div class="stat">
      <span class="label">Experience:</span>
      <span class="value"><%= incarnation.total_experience.round(1) %></span>
    </div>
    
    <% if incarnation.ended_at %>
      <div class="stat">
        <span class="label">Ended:</span>
        <span class="value"><%= time_ago_in_words(incarnation.ended_at) %> ago</span>
      </div>
    <% end %>
  </div>
  
  <% if incarnation.modifiers.present? %>
    <div class="modifiers">
      <% incarnation.modifiers.each do |key, value| %>
        <% next if value.nil? || value == 0 %>
        <span class="modifier <%= value > 0 ? 'positive' : 'negative' %>">
          <%= key.humanize %>: <%= value > 0 ? '+' : '' %><%= (value * 100).round(1) %>%
        </span>
      <% end %>
    </div>
  <% end %>
</div>

<style>
.incarnation-card {
  background: #1a1a1a;
  border: 1px solid #444;
  border-radius: 3px;
  padding: 0.75rem;
  font-size: 0.8rem;
  transition: all 0.2s;
}

.incarnation-card:hover {
  border-color: #666;
}

.incarnation-card.active {
  border-left: 3px solid #0f0;
}

.incarnation-card.deceased {
  border-left: 3px solid #f66;
  opacity: 0.7;
}

.incarnation-header {
  margin-bottom: 0.5rem;
}

.soul-name a {
  color: #0f0;
  text-decoration: none;
  font-weight: bold;
}

.soul-name a:hover {
  text-decoration: underline;
}

.incarnation-meta {
  font-size: 0.7rem;
  color: #666;
}

.incarnation-stats {
  display: flex;
  flex-direction: column;
  gap: 0.2rem;
  margin-bottom: 0.5rem;
}

.stat {
  display: flex;
  justify-content: space-between;
}

.stat .label {
  color: #999;
}

.stat .value {
  color: #ccc;
  font-weight: bold;
}

.modifiers {
  display: flex;
  flex-wrap: wrap;
  gap: 0.3rem;
}

.modifier {
  padding: 0.1rem 0.3rem;
  border-radius: 2px;
  font-size: 0.7rem;
  font-weight: bold;
}

.modifier.positive {
  background: rgba(0, 255, 0, 0.2);
  color: #0f0;
}

.modifier.negative {
  background: rgba(255, 0, 0, 0.2);
  color: #f66;
}
</style>